gaMobileConnectivity=function(){this.getConnectionName=function(t,e){if("cellular"===t){if(e>42)return"4G";if(e<=42&&e>21)return"H+";if(e<=21&&e>=14.3)return"3G";if(e<=3.6&&e>=2.46)return"2G";if(e<2.46)return"E"}if("wifi"===t){if(e<=11)return"SLOW";if(e>=54&&e<600)return"G";if(e>=600&&e<6933)return"N";if(e>=6933&&e<7e3)return"AC";if(e>=7e3)return"AD"}return!1},this.getLoadTime=function(){return performance.timing.loadEventStart-performance.timing.navigationStart},this.getTimeToFirstByte=function(){var t=window.performance.timing;return t.responseStart-t.navigationStart},this.getFirstPaintTime=function(){var t=window.chrome.loadTimes(),e=1e3*(t.firstPaintTime-t.startLoadTime);return Math.round(e)},this.getConnectionType=function(){return"connection"in navigator&&"downlinkMax"in navigator.connection&&(connectionType=navigator.connection.type,downlinkMax=navigator.connection.downlinkMax,{type:connectionType,max:downlinkMax})},this.sendToGA=function(t){return ga("send","event","connectivity",t.type,t.name,{nonInteraction:!0}),ga("send","timing","FirstView","loadTime",this.getLoadTime()),ga("send","timing","FirstView","firstPaintTime",this.getFirstPaintTime()),ga("send","timing","FirstView","timeToFirstByte",this.getTimeToFirstByte()),this.createCookie("gaConnectivitySent",!0,10),console.log("[GaConnect] ",t.type,t.name," sent !"),console.log("[GaConnect] load time : ",this.getLoadTime()),console.log("[GaConnect] firstPaintTime : ",this.getFirstPaintTime()),console.log("[GaConnect] timeToFirstByte : ",this.getTimeToFirstByte()),!0},this.track=function(){if(""!==this.getCookieValue("gaConnectivitySent"))return console.log("[GaConnect] ","Cookie detected it's not the first view"),!1;var t=this.getConnectionType();return t&&(t.name=this.getConnectionName(t.type,t.max),t.name&&t.type&&this.sendToGA(t)),!1},this.init=function(){"function"==typeof ga?this.track():setTimeout(this.init,500)},this.getCookieValue=function(t){var e=document.cookie.match("(^|;)\\s*"+t+"\\s*=\\s*([^;]+)");return e?e.pop():""},this.createCookie=function(t,e,n){if(n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);o="; expires="+i.toGMTString()}else var o="";document.cookie=escape(t)+"="+escape(e)+o+"; path=/"}},window.addEventListener("load",function(t){try{(new gaMobileConnectivity).init()}catch(t){console.log("[GaConnect] ","Error :( ",t)}});